"use client";

import { useState } from "react";
import BookingMapClient from "./map/BookingMapClient";

export default function LiveTripsPage() {
  const [selectedBookingId, setSelectedBookingId] = useState<string | null>(null);
  const [pickupLat, setPickupLat] = useState<number | null>(null);
  const [pickupLng, setPickupLng] = useState<number | null>(null);
  const [dropoffLat, setDropoffLat] = useState<number | null>(null);
  const [dropoffLng, setDropoffLng] = useState<number | null>(null);

  return (
    <div className="flex h-full w-full gap-4">
      {/* LEFT SIDE LIST */}
      <div className="w-1/2 h-full overflow-y-auto pr-2">
        {/* --- EXISTING TRIP LIST RENDERING CODE SHOULD STILL BE BELOW THIS BLOCK --- */}
        {/* Make sure your booking table onClick updates `selectedBookingId`, `pickupLat`, etc */}
      </div>

      {/* RIGHT SIDE MAP ALWAYS RENDERED */}
      <div className="w-1/2 h-[85vh] rounded-md border border-gray-300 overflow-hidden">
        <BookingMapClient
          bookingId={selectedBookingId}
          pickupLat={pickupLat}
          pickupLng={pickupLng}
          dropoffLat={dropoffLat}
          dropoffLng={dropoffLng}
        />
      </div>
    </div>
  );
}
