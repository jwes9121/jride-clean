---- app\api\admin\driver-payouts\route.ts : L126 ----
    const SERVICE_ROLE = mustEnv("SUPABASE_SERVICE_ROLE_KEY");

    const cur = await restGetOneById(SUPABASE_URL, SERVICE_ROLE, id);
    if (!cur.ok) return jsonErr("DB_ERROR", cur.text || "Failed to load payout request", 500);
    if (!cur.row) return jsonErr("NOT_FOUND", "Payout request not found", 404, { id });

    const currentStatus = String(cur.row.status || "").toLowerCase();

---- app\api\admin\driver-payouts\route.ts : L127 ----

    const cur = await restGetOneById(SUPABASE_URL, SERVICE_ROLE, id);
    if (!cur.ok) return jsonErr("DB_ERROR", cur.text || "Failed to load payout request", 500);
    if (!cur.row) return jsonErr("NOT_FOUND", "Payout request not found", 404, { id });

    const currentStatus = String(cur.row.status || "").toLowerCase();


---- app\api\admin\driver-payouts\route.ts : L169 ----
    if (body.admin_note != null) patch.admin_note = body.admin_note;

    const upd = await restPatchById(SUPABASE_URL, SERVICE_ROLE, id, patch);
    if (!upd.ok) return jsonErr("DB_ERROR", upd.text || "Failed to update payout request", 500);

    return jsonOk({ ok: true, changed: true, id, status: targetStatus, row: upd.row });
  } catch (e: any) {

